# Кэширующий DNS сервер

DNS-сервер, который может принимать запросы от клиентов и выполнять их разрешение.
Целью работы этого сервера является улучшение производительности и снижение нагрузки на авторитетные DNS-серверы путем кэширования результатов запросов и предоставления их непосредственно из кэша, если запрос повторяется.

## Логика работы

Когда клиент подключается и отправляет запрос на разрешение DNS, сервер принимает этот запрос, извлекает данные из него (домен и тип записи), и проверяет, есть ли соответствующая запись в кэше.

Если запись найдена в кэше и ее время жизни (TTL) не истекло (или запись найдена в кэше и отсутствует подключение к интернету), сервер возвращает запись из кэша клиенту. 

Если запись не найдена в кэше или ее время жизни истекло, сервер проверяет наличие подключения к интернету.

Если подключение отсутствует, сервер возвращает сообщение "No internet connection". 

В противном случае, сервер выполняет запрос к авторитетному DNS-серверу (ns1.yandex.ru) и получает новую запись DNS. 

Затем сервер обновляет кэш с новой записью и возвращает ее клиенту.

## Типы записей, которые поддерживает сервер

* NS (Name Server) - тип записи, который указывает на авторитетные серверы для определенного домена
* A (Address) - тип записи, который связывает доменное имя с IPv4 адресом 
* AAAA (IPv6 Address) - тип записи, который связывает доменное имя с IPv6 адресом 
* SOA (Start of Authority) - тип записи, который определяет основные параметры для зоны домена

## Запуск программы

Для корректной работы клиента и сервера нужно сначала запустить файл **server.ry**, затем **client.py**, чтобы клиент смог подключиться к серверу, который слушает запросы от клиентов.

Для получения необходимой информации нужно указать доменное имя и тип записи, например

> yandex.ru A

Следует обратить внимание, что авторитетным сервером является **ns1.yandex.ru** (IP-адрес 213.180.193.1), то есть успешно могут быть обработаны запросы для доменных имен, за которые отвечает этот сервер (домены, связанные с услугами и ресурсами, предоставляемыми Яндексом).

## Демонстрация работы

В видео:

* Запускаем программу с имеющимся кэшем (ttl для записей типа A и AAAA истек)
* Сервер обновляет информацию для записей типа A и АААА, для записей типа NS и SOA загружает информацию из кэша
* При некорректных данных выводит соответствующее сообщение
* При отключении WiFi выводит информацию из кэша (на видео не показала, но она будет выгружаться из кэша даже если ttl истек) 
* Если WiFi отключен и соответствующей записи нет в кэше, выводится сообщение об отсутствии подключения к интернету 